// Generated by CoffeeScript 1.7.1
(function() {
  silverflask_angular.controller("imageCropController", function($scope, EditorState) {
    $scope.myImage = '/static/uploads/IMG_0297.JPG';
    $scope.myCroppedImage = '';
    $scope.$on("editorStateChanged", function() {
      if (EditorState.currentState === 'crop') {
        $scope.myImage = EditorState.currentSnippet.model.get('image');
        return $("#cropModal").modal('show');
      }
    });
    $scope.$watch('myCroppedImage', function() {
      var _ref;
      if (EditorState.currentState = 'crop') {
        return (_ref = EditorState.currentSnippet) != null ? _ref.model.directives.get("image").setBase64Image($scope.myCroppedImage) : void 0;
      }
    });
    return EditorState.registerController($scope);
  });

}).call(this);

//# sourceMappingURL=crop.map
